import{S as k,C as B,P as O,b as j,G as q,c as F,T as Y,R as J,W as N,d as U,a as H,e as C,D as V,E as $}from"./three.module.273bf141.js";import{a as K,a7 as Q,c as Z,o as ee}from"./index.b7c05205.js";var x=function(){var h=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(i){i.preventDefault(),l(++h%r.children.length)},!1);function a(i){return r.appendChild(i.dom),i}function l(i){for(var e=0;e<r.children.length;e++)r.children[e].style.display=e===i?"block":"none";h=i}var s=(performance||Date).now(),d=s,n=0,u=a(new x.Panel("FPS","#0ff","#002")),w=a(new x.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=a(new x.Panel("MB","#f08","#201"));return l(0),{REVISION:16,dom:r,addPanel:a,showPanel:l,begin:function(){s=(performance||Date).now()},end:function(){n++;var i=(performance||Date).now();if(w.update(i-s,200),i>=d+1e3&&(u.update(n*1e3/(i-d),100),d=i,n=0,f)){var e=performance.memory;f.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return i},update:function(){s=this.end()},domElement:r,setMode:l}};x.Panel=function(h,r,a){var l=1/0,s=0,d=Math.round,n=d(window.devicePixelRatio||1),u=80*n,w=48*n,f=3*n,i=2*n,e=3*n,t=15*n,m=74*n,v=30*n,c=document.createElement("canvas");c.width=u,c.height=w,c.style.cssText="width:80px;height:48px";var o=c.getContext("2d");return o.font="bold "+9*n+"px Helvetica,Arial,sans-serif",o.textBaseline="top",o.fillStyle=a,o.fillRect(0,0,u,w),o.fillStyle=r,o.fillText(h,f,i),o.fillRect(e,t,m,v),o.fillStyle=a,o.globalAlpha=.9,o.fillRect(e,t,m,v),{dom:c,update:function(P,T){l=Math.min(l,P),s=Math.max(s,P),o.fillStyle=a,o.globalAlpha=1,o.fillRect(0,0,u,t),o.fillStyle=r,o.fillText(d(P)+" "+h+" ("+d(l)+"-"+d(s)+")",f,i),o.drawImage(c,e+n,t,m-n,v,e,t,m-n,v),o.fillRect(e+m-n,t,n,v),o.fillStyle=a,o.globalAlpha=.9,o.fillRect(e+m-n,t,n,d((1-P/T)*v))}}};const te=x,ne={id:"threetest"},re=K({__name:"love",setup(h){let r,a,l,s,d=0,n=0,u=0,w=0,f=window.innerWidth/2;r=new k,r.background=new B(15790320),a=new O(50,window.innerWidth/window.innerHeight,1,1e3),a.position.set(0,150,500),r.add(a);const i=new j(16777215,.8);a.add(i),l=new q,l.position.y=50,r.add(l);const e=0,t=0,m=new F().moveTo(e+25,t+25).bezierCurveTo(e+25,t+25,e+20,t,e,t).bezierCurveTo(e-30,t,e-30,t+35,e-30,t+35).bezierCurveTo(e-30,t+55,e-10,t+77,e+25,t+95).bezierCurveTo(e+60,t+77,e+80,t+55,e+80,t+35).bezierCurveTo(e+80,t+35,e+80,t,e+50,t).bezierCurveTo(e+35,t,e+25,t+25,e+25,t+25),c=new Y().load("textures/uv_grid_opengl.jpg");c.wrapS=c.wrapT=J,c.repeat.set(.008,.008);function o(p,_,D,G,L,A,I,X,W,g){let y=new U(p),S=new H(y,new C({side:V}));y=new $(p,_),S=new H(y,new C({color:D})),S.position.set(G,L,A-75),S.rotation.set(I,X,W),S.scale.set(g,g,g),l.add(S)}o(m,{depth:8,bevelEnabled:!0,bevelSegments:2,steps:2,bevelSize:1,bevelThickness:1},15728640,60,100,0,0,0,Math.PI,1),s=new N({antialias:!0}),s.setPixelRatio(window.devicePixelRatio),s.setSize(window.innerWidth,window.innerHeight);let T=new te;function M(p){p.isPrimary!==!1&&(w=p.clientX-f,n=d,document.addEventListener("pointermove",R),document.addEventListener("pointerup",b))}function R(p){p.isPrimary!==!1&&(u=p.clientX-f,d=n+(u-w)*.02)}function b(){event.isPrimary!==!1&&(document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",b))}Q(()=>{document.querySelector("#threetest").append(s.domElement),document.addEventListener("pointerdown",M)});function E(){requestAnimationFrame(E),z(),T.update(),d+=.01}E();function z(){l.rotation.y+=(d-l.rotation.y)*.05,s.render(r,a)}return(p,_)=>(ee(),Z("div",ne))}});export{re as default};
